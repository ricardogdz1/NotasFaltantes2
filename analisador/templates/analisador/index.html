{% extends 'analisador/static/css/style.css' %}
{% extends 'analisador/base.html' %}
{% load static %}

{% block title %}Upload de Arquivo - Analisador de Sequências{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h3 class="card-title mb-0">
                    <i class="bi bi-cloud-upload"></i>
                    Enviar Arquivo para Análise
                </h3>
            </div>
            <div class="card-body p-4">
                <form method="post" action="{% url 'analisador:processar' %}" enctype="multipart/form-data" id="uploadForm">
                    
                    <div class="file-upload-area mb-4" id="fileUploadArea">
                        <i class="bi bi-cloud-upload display-1 text-primary mb-3"></i>
                        <h4>Clique aqui ou arraste seu arquivo TXT</h4>
                        <p class="text-muted mb-3">Formatos suportados: .txt (máximo 15MB)</p>
                        <input type="file" id="arquivo" name="arquivo" accept=".txt" style="display: none;" required>
                        <div class="mt-3">
                            <button type="button" class="btn btn-outline-primary" onclick="document.getElementById('arquivo').click()">
                                <i class="bi bi-folder2-open"></i>
                                Selecionar Arquivo
                            </button>
                        </div>
                    </div>
                    
                    <div id="fileInfo" class="alert alert-info" style="display: none;">
                        <i class="bi bi-file-earmark-text"></i>
                        <strong>Arquivo selecionado:</strong> <span id="fileName"></span>
                        <br><small id="fileSize" class="text-muted"></small>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-lg w-100" id="submitBtn" disabled>
                        <i class="bi bi-play-circle"></i>
                        Analisar Sequência Numérica
                    </button>
                </form>
            </div>
        </div>
        
        <!-- Informações sobre formatos suportados -->
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="bi bi-info-circle"></i>
                    Formatos Suportados
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <h6><i class="bi bi-check-circle text-success"></i> Vírgulas</h6>
                        <code class="small">1, 2, 3, 4, 6, 7</code>
                    </div>
                    <div class="col-md-4">
                        <h6><i class="bi bi-check-circle text-success"></i> Quebras de linha</h6>
                        <code class="small">1<br>2<br>3<br>4<br>6<br>7</code>
                    </div>
                    <div class="col-md-4">
                        <h6><i class="bi bi-check-circle text-success"></i> Misto</h6>
                        <code class="small">1,<br>2,<br>3,<br>4,<br>6,<br>7</code>
                    </div>
                </div>
                <hr>
                <div class="text-muted small">
                    <strong>Dica:</strong> O analisador identifica automaticamente o menor e maior número da sequência e mostra todos os números faltantes no intervalo.
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'analisador/js/file-upload.js' %}"></script>
{% endblock %}
